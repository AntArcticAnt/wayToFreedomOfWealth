from rqalpha.api import *
from rqalpha import run_func

import talib
import pandas as pd


#显示所有列
pd.set_option('display.max_columns', None)
#显示所有行
pd.set_option('display.max_rows', None)
#设置value的显示长度为100，默认为50
pd.set_option('max_colwidth',100)
pd.set_option('display.width',200)



result_dict = pd.read_pickle('result2.pkl')

print(type(result_dict))
print(result_dict.keys())
print(result_dict['summary'])
print(result_dict['trades']['transaction_cost'].sum())
# print('trade',result_dict['trades'])
# print('protfolio',result_dict['protfolio'])
# print('benchmark_portfolio',result_dict['benchmark_portfolio'])
# print('stock_account',result_dict['stock_account'])
# print('stock_positions',result_dict['stock_positions'])
# print(result_dict['summary'].keys())

print(result_dict['trades'])



'''
['2018-11-30 00:00:00', '600760', 32.40999999999998, -1700, 62395.06882448742, 'da9906d7-cbfc-4832-a453-c90840ccca0e', None, None, 'xxx4', 13.774249999999993, 55.09699999999997, None, 0, -1, 0]
['2018-11-30 00:00:00', '601888', 54.85292685794917, -400, 84308.8131042381, 'cc021722-1ba6-4119-9250-1eebb03d3b9d', None, None, 'xxx4', 5.485292685794917, 21.94117074317967, None, 0, -1, 0]
['2018-11-30 00:00:00', '600276', 54.380300785456036, 800, 40793.69641571618, 'd165efbe-b7c7-46e4-ba91-ffef9f037b19', None, None, 'xxx4', 10.876060157091208, 0, None, 0, 1, 0]
['2018-11-30 00:00:00', '600050', 5.234388331282467, -3200, 57521.989033159974, 'de1a4099-9d08-4dca-be69-d349a6b4de07', None, None, 'xxx4', 5, 16.750042660103897, None, 0, -1, 0]
['2018-11-30 00:00:00', '600585', 30.49108687962593, -500, 72747.28692953312, '96fd9d3a-1939-4479-9fed-9d08fb98d19a', None, None, 'xxx4', 5, 15.245543439812964, None, 0, -1, 0]
['2018-11-30 00:00:00', '600887', 23.269858965748814, 1900, 28523.501711601642, '527a1b12-0c01-42d2-9e03-da5ae6d4f33d', None, None, 'xxx4', 11.053183008730686, 0, None, 0, 1, 0]
['2018-11-30 00:00:00', '600519', 556.7553721428093, -100, 84129.44450436473, '0fb2fce3-03ca-4157-88e1-c5b2a41b03db', None, None, 'xxx4', 13.918884303570232, 55.67553721428093, None, 0, -1, 0]
['2018-11-30 00:00:00', '600346', 9.548346757100472, -1600, 99386.52196091412, 'f3931985-e95b-4d20-98f7-40ed470cdb23', None, None, 'xxx4', 5, 15.277354811360754, None, 0, -1, 0]
['2018-11-30 00:00:00', '601899', 3.2953072625698385, 14900, 50274.16872907045, '41b6d88a-4bf6-4223-b813-55f1836879ab', None, None, 'xxx4', 12.27501955307265, 0, None, 0, 1, 0]
['2018-11-30 00:00:00', '601628', 21.45130823513384, -800, 67413.05427058942, '4711e2f7-dfab-4530-a292-9f3b074c37b8', None, None, 'xxx4', 5, 17.161046588107073, None, 0, -1, 0]
['2018-11-30 00:00:00', '601601', 30.570417754569224, -300, 76570.00847163382, '79d6ba97-29de-4ec5-a773-d5848c6412ee', None, None, 'xxx4', 5, 9.171125326370769, None, 0, -1, 0]
['2018-11-30 00:00:00', '600028', 5.623104703300722, -2100, 88361.71982868841, 'b01880af-333c-49df-98c6-ff7164c19876', None, None, 'xxx4', 5, 11.808519876931518, None, 0, -1, 0]
['2018-11-30 00:00:00', '000858', 51.490827864714845, -600, 119217.59842661877, 'a30c5f7a-996b-4d13-ba02-9b0514e4cb8c', None, None, 'xxx4', 7.723624179707227, 30.894496718828908, None, 0, -1, 0]
['2018-11-30 00:00:00', '600332', 37.48950354648853, -600, 141683.18342685202, '095b9e60-b474-4bcf-a477-9e7fc89ae9a3', None, None, 'xxx4', 5.62342553197328, 22.49370212789312, None, 0, -1, 0]
['2018-11-30 00:00:00', '601857', 7.512017169973094, -1200, 150683.58961021577, 'a5c09930-9c45-4329-b459-b3aa1c17f1dc', None, None, 'xxx4', 5, 9.014420603967714, None, 0, -1, 0]
['2018-11-30 00:00:00', '000651', 35.3288345901025, -400, 164795.99191242072, 'c465d6bb-b839-4989-a864-6042b52506b1', None, None, 'xxx4', 5, 14.131533836041001, None, 0, -1, 0]
['2018-11-30 00:00:00', '600027', 4.483224486748178, 9500, 122194.711630157, '4aa831ac-7254-46b6-a690-2618ee9800e3', None, None, 'xxx4', 10.647658156026923, 0, None, 0, 1, 0]
['2018-11-30 00:00:00', '600031', 7.8744262352165695, -2900, 145002.00291718243, 'aaad611b-08e3-4904-9709-06bfcd5fe2b8', None, None, 'xxx4', 5.708959020532013, 22.83583608212805, None, 0, -1, 0]
['2018-11-30 00:00:00', '601318', 62.058546162793924, -300, 163595.94920217176, '763721f0-5632-4a5e-8500-95e8b8a0eafe', None, None, 'xxx4', 5, 18.617563848838177, None, 0, -1, 0]
['2018-11-30 00:00:00', '002304', 97.52820084374245, -300, 192817.83637997808, '13115b21-29ca-48c3-8d92-6698e78b9cb2', None, None, 'xxx4', 7.314615063280684, 29.258460253122735, None, 0, -1, 0]
['2018-11-30 00:00:00', '300003', 31.070534722543773, 6200, 132.3617713867361, '3913a6dd-fc4d-44cb-8021-e6801908259f', None, None, 'xxx4', 48.15932881994285, 0, None, 0, 1, 0]
'''